<html>
  <head>
	<title>NFT Minter on Testnet - Mint your NFT for free!</title>
    <!-- Moralis SDK code -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <script src="https://unpkg.com/moralis/dist/moralis.js"></script> -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<link rel="stylesheet" href="styles.css">

  </head>
  <body>
    <h1>NFT Minter for Beginners</h1>
	<h2 id="h2"></h2>
	
    <!-- <button class="btns" id="btn-connect">Connect Metamask</button> -->
	
	<br><br>
	<div class=container-grey>
	<br><br>
    <input type="text" name="metadataName" id="metadataName" placeholder="Title">
    <br><br>
    <textarea name="metadataDescription" id="metadataDescription" col="30" rows="10" placeholder="Description"></textarea>
	<br><br>
    <input type="file" name="fileInput" id="fileInput">
    <br><br>
    <!-- <button class="btns" id="btn-mint" onclick="mint()">MINT NFT</button> -->
</div>
	<div id="transactionhash"></div>
	<div id="opensea"></div>
	
<!-- <script>
	// on click of Metamask button login() function is called, and connected address is displayed
	$(document).ready(function(){
		let flag=0;
	  $("#btn-connect").click(async function(){
		  const connectedAccount = await login();
		  console.log(connectedAccount);
		  if(flag==0){
		  $("#h2").append("<b>Welcome<br>"+connectedAccount+"</b>.");
		  flag=1;
		  }
		  $("#btn-connect").hide();
	  });
	});
	</script> -->

    <script>
      // connect to Moralis server
      Moralis.initialize("paste Moralis APP ID here");
	  Moralis.serverURL = "paste Moralis server URL here";

	  //initialize var contract and var accounts, assign NFTMinterAddress
	  var contract;
	  var accounts;
	  const NFTMinterAddress = "paste address here";


      //add NFTMinter ABI
	  const NFTMinterABI = []
	  
      //Connect and login  
      login = async() => {
		  //Moralis Web3 authenticate user with Metamask and login.

		  //Enable web3 with Moralis

		  //initialize contract with web3.js - web3.eth.Contract(ABI, address)
		
		  //get accounts to be shown on frontend - accounts[0]

		  //return currentAccount
			
      }

      //Upload Image to IPFS
      uploadImage = async() => {
		//TBD
			//get file data from browser
	
			//initialize Moralis object for file

			//save file to IPFS

			//return IPFS link to file
      }
      
      //Upload Metadata to IPFS
      uploadMetadata = async (imageURL) => {
		  //get name of image from HTML form

		  //get description from HTML form

		  //constuct metadata JSON (name : name, description : description, image: imageURL)
  
		  //initialize Moralis object for file

		  //save file to IPFS

		  //return IPFS link to file
      }

      //Mint NFT with IPFS Metadata
      mint = async() => {
		  //upload image
          const image = await uploadImage();
		  //upload metadata
          const metadata = await uploadMetadata(image);

		  //if contract !== undefined, then call mintNFT() solidity function.
		  if(contract!=='undefined'){
			try{
				//calling tokenID to redirect on OPENSEA

				//actually minting NFT.

				//Action on receving transaction hash
				

				//Action on receiving a receipt of successful transaction

				//Action on Error
      	} catch (e) {
        	console.log('Error while minting function was called ', e)
      		}
	}
}
    </script>
  </body>
</html>
